name: SSH Key Generation and Usage

on:
  workflow_dispatch: 

jobs:
  ssh-keygen:
    runs-on: ubuntu-latest

    steps:
    - name: Generate SSH key
      id: ssh_key
      run: |
        ssh-keygen -t rsa -b 4096 -C "your_email@example.com" -f ~/.ssh/id_rsa -N ""
        echo "::set-output name=public_key::$(cat ~/.ssh/id_rsa.pub)"  # Store public key in output
        echo "PUBLIC_KEY=$(cat ~/.ssh/id_rsa.pub)" >> $GITHUB_OUTPUT

    - name: Set up SSH agent
      run: echo ${{ steps.ssh_key.outputs.PUBLIC_KEY }}
